"use strict";function my_proxy(t,i){if("function"==typeof t)return i||(i=this),function(){return t.apply(i,arguments)}}var HeartsBackground={heartHeight:60,heartWidth:64,hearts:[],heartImage:"http://i58.tinypic.com/ntnw5.png",maxHearts:20,minScale:.4,draw:function(){this.setCanvasSize(),this.ctx.clearRect(0,0,this.w,this.h);for(var t=0;t<this.hearts.length;t++){var i=this.hearts[t];i.image=new Image,i.image.style.height=i.height,i.image.src=this.heartImage,this.ctx.globalAlpha=i.opacity,this.ctx.drawImage(i.image,i.x,i.y,i.width,i.height)}this.move()},move:function(){for(var t=0;t<this.hearts.length;t++){var i=this.hearts[t];i.y+=i.ys,i.y>this.h&&(i.x=Math.random()*this.w,i.y=-1*this.heartHeight)}},setCanvasSize:function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.w=this.canvas.width,this.h=this.canvas.height},initialize:function(){if(this.canvas=document.querySelector("#canvas"),this.canvas.getContext){this.setCanvasSize(),this.ctx=this.canvas.getContext("2d");for(var t=0;t<this.maxHearts;t++){var i=Math.random()*(1-this.minScale)+this.minScale;this.hearts.push({x:Math.random()*this.w,y:Math.random()*this.h,ys:Math.random()+1,height:i*this.heartHeight,width:i*this.heartWidth,opacity:i})}setInterval(my_proxy(this.draw,this),30)}}};document.addEventListener("DOMContentLoaded",function(t){HeartsBackground.initialize()}),function(){function t(){m=!(document.body.scrollTop>h)}function i(){n=window.innerWidth,h=window.innerHeight,s.style.height=h+"px",r.width=n,r.height=h}function a(){if(m){o.clearRect(0,0,n,h);for(var t in c)c[t].draw()}requestAnimationFrame(a)}function e(){function t(){i.pos.x=Math.random()*n,i.pos.y=h+100*Math.random(),i.alpha=.1+.3*Math.random(),i.scale=.1+.3*Math.random(),i.velocity=Math.random()}var i=this;!function(){i.pos={},t()}(),this.draw=function(){i.alpha<=0&&t(),i.pos.y-=i.velocity,i.alpha-=5e-4,o.beginPath(),o.arc(i.pos.x,i.pos.y,10*i.scale,0,2*Math.PI,!1),o.fillStyle="rgba(255,255,255,"+i.alpha+")",o.fill()}}var n,h,s,r,o,c,d,m=!0;!function(){n=window.innerWidth,h=window.innerHeight,d={x:0,y:h},s=document.getElementById("intro"),s.style.height=h+"px",r=document.getElementById("demo-canvas"),r.width=n,r.height=h,o=r.getContext("2d"),c=[];for(var t=0;t<.5*n;t++){var i=new e;c.push(i)}a()}(),function(){window.addEventListener("scroll",t),window.addEventListener("resize",i)}()}();